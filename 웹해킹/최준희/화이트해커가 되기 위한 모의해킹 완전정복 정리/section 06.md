# Section 06
## 27강
- 액티브 스캐닝
    - 공격대상을 직접 스캐닝
    - 액티브 스캐닝 단계부터는 허가가 반드시 필요함 (주의: 허가없이 스캐닝할 경우 불법으로 간주됨)
- 액티브 스캐닝 기법
    - DNS 정보수집
    - 포트 스캐닝
    - 웹 스캐닝
    - 종합 취약점 스캐닝
## 28강
- **DNS 정보수집**
    - 도메인 이름을 ip주소로 변경하기 위해 사용함
    - host (도메인명) : dns 정보를 알아내는 간단한 명령어 (ip,서버 주소 등)
    - nslookup (도메인명) : dns 정보를 알아내는 간단한 명령어
    - host -t ns (도메인명) : **네임서버**를 알아내는 명령어
    - host -l (도메인명) (네임서버명) : 서브도메인과 ip를 알아내는 명령어
    - dnsenum -h : dnsenum 옵션
    - dnsenum (도메인명) : dns 정보 수집
- **host 명령어 옵션**

 - -a

 -t ANY와 같은 기능

 -  -d

 디버깅 모드로 출력

 - -l

 zone 아래 모든 시스템을 출력

 - -r

 반복 처리를 안 함

 - -t

 type을 지정하여 정보를 얻음

 (A:호스트 ip주소, NS:검색한 호스트의 네임 서버 호스트명, PTR:도메인 네임 포인터, ANY:타입의 모든 정보)

 - -w

 DNS 서버의 응답을 기다림

 - -v

 자세한 정보 출력
## 29강
- ping : 어떤 호스트가 살아있는지 알아내는 간단한 명령어
- fping -h : fping의 옵션 확인 명령어
## 30강
- 포트스캐닝
    - 공격 대상 호스트의 어떤 포트가 열려있는지 어떤 서비스가 운영되고 있는지 알아내는 기법
## 31강
- **Nmap**</br>
**주로 사용하는 명령어**
- -sL : 리스트 스캔 (빠른속도로 목적 네트워크 대역의 살아있는 호스트들을 보여줌)
- -sn : 핑 스캔 (목적지 네트워크 대역에 핑을 날려 응답이 있는 호스트만 보여줌)
- -Pn : 핑에 대한 응답이 있는 호스트만 살아있다고 판단하는게 아니라, 해당 호스트가 핑 응답이 없더라도 계속해서 스캔을 해서 살아있는지 확인함
- -sT : 일반적인 TCP 방식을 이용한 포트 스캔
- -sS : 스텔스 TCP 포트 스캔
- -sN/-sF/-sX : 차례대로 TCP Null, Fin, Xmas 스캔
- -sU : 일반적인 UDP 방식을 잉용한 포트 스캔 (매우 느림/오류가 많음)
- -sV : 대상 호스트의 운영체제와 각 포트별 버전을 알아냄
- -p : 포트를 지정하여 해당 포트가 열려있는지 스캔
- -f : 스캔 패킷 차단 방지를 우회할 수 있도록 패킷을 단편화하여 스캔
- -S : 가짜 IP를 사용
- -O : 대상 호스트의 운영체제를 알아냄
- -A : -sV와 비슷하지만 더 많은 정보를 보여줌
- -v : 검색 결과를 좀 더 상세하게 출력 (-vv일경우 더 상세함)

![화면 캡처 2020-11-13 201406](https://user-images.githubusercontent.com/64259087/99069216-4a5eb980-25f1-11eb-9c08-6b17a90586eb.png)
- nmap -sn 192.168.56.1/24 명령어로 목적지 네트워크 대역에 핑을 날려 응답이 있는 호스트만 보여줌. 현재 192.168.56.1 / 192.168.56.100 / 192.168.56.101로 3가지가 나옴.</br>

![화면 캡처 2020-11-13 205210](https://user-images.githubusercontent.com/64259087/99069675-2bacf280-25f2-11eb-9ff4-b9ca17e1f26e.png)
- 강의 진행에 있어서 현재와 같은 옵션 없이 nmap 192.168.56.101을 입력시 열린 포트가 보여지지않음. **(강의 진행에서는 포트 번호가 나열되야함.)**

### 오류 해결

![화면 캡처 2020-11-13 201615](https://user-images.githubusercontent.com/64259087/99069882-89d9d580-25f2-11eb-9efb-4650108c32f7.png)
- 메타스플로잇테이블 실행

![화면 캡처 2020-11-13 201444](https://user-images.githubusercontent.com/64259087/99069923-9f4eff80-25f2-11eb-80c2-3df7991f7444.png)
- 메타스플로잇테이블 실행 후에 nmap -sn 192.168.56.1/24 명령어 입력시 또 하나의 핑을 스캔함. 아마 메타스플로잇테이블의 핑으로 생각됨.

![화면 캡처 2020-11-13 205937](https://user-images.githubusercontent.com/64259087/99070224-2c925400-25f3-11eb-8d94-664df098b67c.png)
- nmap 192.168.56.102 명령어 입력시 포트 번호가 나열되면서 강의를 원활히 진행함.

![화면 캡처 2020-11-13 212202](https://user-images.githubusercontent.com/64259087/99071887-5436eb80-25f6-11eb-888c-1ac401cb1baf.png)
- nmap -sU 192.168.56.102 -p 110-140 명령어 입력으로 포트 번호를 지정함. 110~140 사이의 포트를 스캔함.

![화면 캡처 2020-11-13 212559](https://user-images.githubusercontent.com/64259087/99072168-d7f0d800-25f6-11eb-9c5f-200a8bf84e79.png)
- 명령어 -O를 이용해서 운영 체제를 스캔함. 해당 서버의 운영체제가 리눅스라는 걸 알아냄.

![화면 캡처 2020-11-13 212827](https://user-images.githubusercontent.com/64259087/99072341-3027da00-25f7-11eb-8cfc-cb4c5dbdb70d.png)
- 명령어 -sV를 이용해서 해당 서버의 서비스의 버전을 스캔함.
- -A를 이용하면 더욱 자세한 정보을 알아낼 수 있음.




