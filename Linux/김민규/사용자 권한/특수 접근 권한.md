## SetUID

  - ### 기능
    - 사용자가 SetUID가 설정된 파일을 실행했을 경우, 실행하는 동안에는 파일을 실행한 사용자의 권한이 아니라 파일 소유자의 권한이 적용된다. 
    - SetUID를 설정하면 해당 파일의 실행 권한의 기호가 x에서 **s**로 바뀐다.
     
  - ### 설정 방법
    - `chmod 4[perm] [filename]
     
  - ### 사용 예
    - `chmod 4755 su.exe` : su.exe 파일을 실행하는 동안 파일 소유자의 권한이 적용
  - ### 권한 기호
    - `-rwsr-xr-x`
    - 소유자의 실행 권한 기호가 x에서 s로 바뀌었다.
     
  - ### /usr/bin/passwd 파일
    - 비밀번호 변경 시 사용하는 `/usr/bin/passwd` 파일의 기본 권한은 SetUID가 설정된 `-rwsr-xr-x root root`이다. 
    - 비밀번호 변경 시 사용자의 암호를 암호화해서 저장하는 `/etc/shadow` 파일에 암호를 갱신해야 하는데, 이 파일은 보안상 소유자인 root 외 모든 사용자는 수정 권한이 없으므로 파일을 수정할 수 없다.
      - `/etc/shadow` = `-rw-r-----  root  shadow`
    - 그래서 `/usr/bin/passwd` 파일에 SetUID를 적용해 파일을 실행하는 동안에만 파일의 소유자인 root의 권한을 얻어 변경된 암호가 `/etc/shadow` 파일에 갱신될 수 있도록 한다.
    <br> 
    - `/usr/bin/passwd`의 특성을 악용한 권한 상승 공격에 대비하여 리눅스는 
      - 1) passwd가 실행되고 있을 때 이를 `Ctrl+z`로 백그라운드로 보내지 못하게 막았고, 
      - 2) 현재 실행되고 있는 쉘이 아닌 다른 쉘에서는 권한 상승이 적용되지 못하도록 막았으며, 
      - 3) 실행되고 있는 쉘에서 passwd 외에 다른 작업을 하지 못하도록 막았다. 

<br>

## SetGID

  - ### 기능
    - SetUID와 거의 동일한 기능
    - 해당 파일이 실행되는 동안 파일 소유 그룹의 권한이 적용된다.
  - ### 설정 방법
    - chmod 2[perm] [filename]

  - ### 사용 예
    - `chmod 2755 su.exe` : su.exe 파일을 실행하는 동안 파일 소유 그룹의 권한이 적용
  - ### 권한 기호
    - `-rwxr-sr-x`
    - 그룹 권한의 실행 기호가 x에서 s로 바뀌었다.

<br>

## Sticky bit

  - ### 기능
    - 위 두 권한과 다른 특징을 가졌다.
    - 일반 파일이 아니라 디렉터리에 설정하며, 디렉터리에 스티키 비트가 설정되어 있으면 이 디렉터리에는 누구나 파일을 생성할 수 있다.
  - ### 설정 방법
    - chmod 1[perm] [directory]
  - ### 사용 예
    - `chmod 1755 kimin` : kimin 디렉토리에는 누구나 파일을 생성할 수 있음.
  - ### 권한 기호
    - `-rwxr-xr-t`
    - 기타 사용자 권한의 실행 기호가 x에서 t로 바뀌었다.
  - ### /tmp 디렉토리
    - `/tmp` 디렉토리는 잡다한 정보가 쌓이는 곳으로, 스티키 비트가 설정되어 있다.
      - `drwxrwxrwt  root  root`