
# +Hyper Text Transfer Protocol+

   - 1990년 웹이 세상에 나왔음.
   - 웹은 크게 4가지요소로 이루어져 있음.
    
    --> HTML : 웹페이지를 만드는 언어
    --> URL, URl : 원하는 웹페이지에 방문할 수 있도록 도와주는 주소체계
    --> web browser, web server : 웹페이지를 주고받는 소프트웨어
    --> HTTP : web browser와 web server가 통신을 할 때 사용하는 통신규칙
    웹을 구성하는 가장 중요한 요소들 
    웹이 아무리 복잡해도 웹은 이것들을 벗어 나지 않는다.
##
    HTTP는 처음 세상에 등장 했을 때는 매우 단순한 통신규칙이었다.
    하지만 웹이 폭발적으로 성장하면서 단순한 HTTP의 기능만으로는 성능 보안 안정성을 확보하는 것이 점점 어려워졌다. 
    이러한 문제를 해결하기 위해서 HTTP는 보다 풍부한 기능을 가진 프로토콜로 발전하기 시작한다. 
    그리고 오늘날에는 단지 HTML과 같은 텍스트 파일 뿐만이 아니라 이미지, 오디오, 동영상과 같은 다양한 멀티미디어 파일을 전송하는 중요한 프로토콜이다. 인터넷에서 가장 중요한 통신 규칙이 된 HTTP는 웹을 넘어서 인터넷이 동작하는 근간이다.
***
 ## +HTTP는 무엇인가?
***
    HTTP는  Request와 Response를 위한 메시지로 구분되어 나타낸다.
    컨텐츠를 주고받기 위해서는 서버와 클라이언트가 서로 알아들을 수 있는 공통의 약속인 메시지가 필요한데 그 메시지를 HTTP라고 한다. 

    사용하고있는 브라우저에는 각자 개발자 도구라는 것이 포함되어있다.
    크롬의 경우에는 검사, 파이어폭스 같은 브라우저에는 요소로 되어 있다.
    클릭을 해보면 네트워크 탭이 나오는데 이 탭이 바로 웹브라우저 웹서버가 어떤 통신을 하고있는 지를 모니터링 할 수 있는 툴이다.통신하는 내용을 감정할 수 있음 이는 웹과 관련된 작업을 하는데 있어서 굉장히 중요한 테크닉이다.

    Request headers --> 웹브라우저가 웹서버에게 요청한 데이터

    웹 브라우저 --> 사용자가 요청한 정보를 웹 서버에게 대신 물어봐준다.

    웹 서버 --> 자기가 가지고있는 정보를 보내 응답 헤더를 만들어준다.
    이렇게 되면 웹 브라우저는 응답한 정보를 화면에 적당히 그려주는 역할을 하는 프로그램이다. 
***
## +Request message
***
 ### 1.  GET 

    - 데이터를 웹 서버로부터 가져올 때 쓰는 메시지. 

### 2.  1.html 

    - 웹 서버한테 요청하는 정보가 무엇인지 보고 응답해준다.

### 3.  http/1.1 

    - 현재 사용하고있는 또는 사용할 수 있는 http의 버전이1.1이다.
    - 웹 서버는 정보를 바탕으로 웹 브라우저에게 통신 할 수 있음
***
## +Request Header
***
### 1.Host 

    - 인터넷이 연결되어 있는 컴퓨터 한 대 한 대를 식별
    - 요청하는 웹 사이트의 웹서버 주소를 적는 것
    - 호스트가 있으면 하나의 웹서버가 여러개의 도메인을 서비스할 수 있다.
 
### 2.Uesr-Agent 

    - 웹 브라우저의 다른 표현
    - 요청하는 웹 브라우저가 어떤 웹 브라우저인지를 보여줌 
    - 경우에 따라서는 유저에이전트가 크롬이나, 파이어폭스 이런것이 아니라 검색엔진 같은 로봇이 접근 할 수 있는데 이런 경우에는 웹서버는 이를 바탕으로해서 그 요청을 차단 할 수 있음

### 3.Accept-Encoding

    - 웹 브라우저, 웹 서버가 서로 통신할 때 응답하는 데이터의 양이 많으면 압축을 하기도 하는데 이는 어떠한 압축 방식을 지원한다는 것을 적어 놓은 것 

### 4.If-Modified-since

    - 파일의 마지막으로 다운로드 일자를 서버에게 알려 줌
***
## +Response message
***
  ### HTTP status codes

    - 1xx --> informational responses
      - 정보를 준다.
##
    - 2xx --> Success 
      - 성공했다는 메시지

      - 들어오는 정보가 2xx라면 긍정적인 메시지이다. 
    
        ex) 200 OK -> 성공했다.
##
    - 3xx --> Redirection

      - 웹브라우저가 다른 곳으로 바로 이동한다.
##
    - 4xx --> Client errors
      - 클라이언트쪽 에러
      - ex)404 not found, 403 Forbidden
##
    - 5xx --> Server errors
      - 서버쪽 에러
      - 500 Internal Server Error
  ### HTTP headers codes
    - Content-Type
      웹 서버가 응답할 대 응답은 텍스트고, html이라는 컴퓨터 언어라고 하면 웹 브라우저는 저걸 보고 그 정보를 html로 해석해서 화면에 보여줌
    - Content-Length
      응답하는 이 컨텐츠의 전체 크기, 사이즈를 보여줌
      단위는 바이트
    - Content-Encoding
      압축을 했으니 이 것을 읽으려면 압축을 풀어서 읽어야한다고 알려줌
    - Last-Modified
      이 정보는 마지막으로 언제 수정되었습니다라고 알려주는 내용


# +Domain Name System+
  인터넷에 연결된 컴퓨터 한 대 한 대를 호스트라고 한다.

  호스트와 호스트가 서로 통신을 하기 위해서는 서로에 대한 주소가 필요한데, 이를 위해서 사용하는 주소를 IP 주소라고 부른다.

  DNS의 핵심은 DNS Server이다.
  여기에는 수많은 IP주소의 도메인 이름이 저장되어있다.
  ***
## +IP주소와 Hosts의 개념
***
 ## hosts
     각각의 인터넷에 연결된 컴퓨터들을 호스트라고 부른다.
     호스트는 네트워크에 연결되어 있는 컴퓨터 장치이다.
     IP주소부를 만들 수 있다.
     클라이언트가 서버로 접속할 때는 서버의 IP주소를 알아야 한다.
     응답을 하기위해서는 서버 컴퓨터는 클라이언트의 서버 IP주소를 알아야 한다. 
***
## +도메인 이름과 보안
***
 ## security

    악의적인 사람에 의해 호스트파일을 몰래 악의적으로 조작당할 수 있다. 
    http와 https의 차이는 보안이다.
      - 여기서 s 는 secure의 약자
      - 암호화되어있는, 보안이 안전하다는 뜻
    http로 접속하면 사이트가 변조되어도 알 수가 없다. 
    하지만 https로 접속하면 안전하지않다는 메시지가 뜨는데 사이트에 들어가려면 강제로 들어가야 사이트로 들어갈 수 있다.
***
## +DNS의 태동
***
 ## before DNS
    - 이전에는 IP를 개인적으로 바꿀 수 있었다. 
    - 인터넷이 확장되면서 Stanford Research Instiute를 통해 IP주소부에 주소를 바꿀 수 있었다. 
    - 수작업으로 호스트 파일을 갱신했기 때문에 이 과정에서 많은 시간과 많은 비용이 들었다.
    - Stanford Research Instiute로 다운로드 받기 전까지는 추가된 호스트의 이름을 사용할 수 없다는 단점이 있다.
***
 ## +DNS의 원리
 ***
  ## Domain Name System Server (DNS Server)
   도메인의 이름과 도메인의 IP주소를 저장하고 기억해두는 역할
  - 인터넷이 거대하게 성장하는데 핵심적인 역할을 함.
  - 이전에는 호스트에 이름을 파일에 보관 했지만 이제는 서버를 통해서 IP주소를 관리하고 있다.
  - 장점은 변경과 수정에 있어 Domain Name System Server에 변경된 내용을 바로 반영할 수 있다.
***
## +Public DNS
***
    public DNS를 검색해 보면 사용할 수 있는 DNS 서버들의 목록들을 검색할 수 있다.
***
## +도메인 이름의 구조
***
## DNS Internal
  DNS 서버 한대가 하는 역할을 크게 분리해보면 두가지가 있다.
  1. 서버로 사용할 컴퓨터가 자신의 이름과 IP르 제출해서 등록하는 것
  2. 클라이언트로 사용되는 컴퓨터가 어떤 이름을 물어보면 알려주는 것
 
    DNS Server는 전세계에 수 많은 서버들이 흩어져 있어서 서로 분산되고 협력하는 것을 통해서 전세계 사람들이 인터넷을 Ip를 기억하지 않고도 쉽게 사용할 수 있도록 돕고있다.
     도메인 주소 뒤에는 .이 생략되어있다.
     --> .이 특별한 정보를 가지고 있지 않기 때문에 생략하는 것 일 뿐 실제로는 존재한다.
      blog.example.com.
      blog./example./com/.
          <-------------
      sub/Second-leverl/Top-leve/root
      .은 가장 최상위에 있다고 해서 root 도메인 이라고 부른다.
      root도메인 아래 com이 있는데 이 com을 가장 높은 레벨에 있는 도메인이라고 해서 Top-leve도메인 이라고 한다. com뿐만이 아니라 co.kr등 전부 Top-leve 도메인이다.
      example은 Second-leverl
      blog는 sub 도메인이라고 불린다.
      ---> 이 도메인에 있는 각각의 부분들은 그 각각의 부분들을 담당하는 독자적인 서버 컴퓨터들이 존재한다. 기능이 다 똑같지만 전담하는 부분이 다른 것 이다.
## 
    루트 도메인을 담당하는 dns서버는 탑레벨 도메인을 담당하는 서버들의 목록을 알고있어야한다. 또한 탑레벨 dns서버들은 세컨드 레벨 dns서버들, 세컨드 dns서버는 서브의 dns서버들의 목록과 ip를 알고있다.
    즉 상위가 하위를 알고 있어야한다.
    그러나 루트는 세컨드를 알지 못하고, 탑은 서브를 알지 못한다. 직속 하위 파트만 알고있으면 됨
***
## +도메인 이름 등록 과정과 원리
***
 ### DNS register

    등록소는 Top-level domain에 도메인주소와 이름을 저장
    등록 대행자를 통해서 등록소에서 등록해야한다.
***
## +nslookup 사용법
***  
    cmd에서 nslookup example.com 를 쳐서 아이피 주소를 알아낼 수 있음
***    
## +나의 도메인 이름 장만하기
***
    freenom.com
***
## +DNS record와 CNAME 레코드의 이해
***
### DNS record & CNAME
    CNAME은 서버에 도메인 네임을 지정하는 새로운 방식
### DNS record
     dns서버에 우리가 저장하는 어떤 도메인 이름에 대한 정보 1건
     도메인 네임 서버가 하는 역할은 여러가지가 있지만 그 중에서 가장 중요한 것은 어떤 특정 도메인에 대한 특정 도메인 네임에 대한 정보를 저장하는데 그 정보를 dns레코드 라고한다.


# +Home Server+

    공유기 환경 -> 웹 서버 구동
    공유기에 연결된 PC의 웹 서버에 불특정 다수 접속하게 하는 일은 쉬운 일이 아니다.
    전화기와 전화기 통신 --> 전화번호 필요
    PC와 PC통신 --> IP 주소필요
    
    IPv4
    - 0.0.0.0 ~ 255.255.255.255 (약 42억개)
    하지만 WEB, Smartphone, cloud computing, IOT가 등장함에 따라 인터넷에 연결되는 숫자가 기하 급수적으로 늘어나 IP가 부족하게되어
    주소의 형식을 새롭게 바꾸게 됨
    --> IPv6

    IPv6
    ex) 2001:0db8:85a3:1319:8a2e:0376:7334
    새로운 주소 체계가 나옴
    하지만 주소를 바꾸는 것은 쉬운 일이 아니기 때문에 IPv4를 아껴 쓰기 위해서 노력을 해야함
    그 노력이 공유기를 사용하는 것인데 공유기는 1개의 IP를 여러대의 컴퓨터가 나눠쓸 수 있다.
***
 ### +공유기(router)
*** 
      WAN은 광역 네트워크이며 public IP address, 전세계 누구나 접속 가능
      LAN은 지역 네트워크이며 private IP address, 사설IP주소라고 한다.
***      
 ### +Network Address Translation (NAT)
***    
    사설 IP를 쓰고있는  PC가 사설 IP 바깥쪽에 있는 Public IP에 해당되는 외부의 세계에 접속 할 수 있게 해주는 기술
***    
 ### +IP주소를 알아내는 방법
*** 
      Windows --> 제어판/Network and internet/ 네트워크와 공유센터/ Internet/Ethernet

      Linux --> ifconfig

      Mac --> 환경설정/ Network/고급/TCP/IP/IPv4 Address
***      
 ### +PORT
***
      컴퓨터에는 웹서버가 여러 개 존재
      그 많은 서버들을 식별할 때 사용하는 것이 PORT번호

      0번~1023번 Well-known port

      Web Server --> 80번에 연결이 되도록 약속

      http://opentutorials.org --> port 80번 연결
      http://opentutorials.org:8080 --> port 8080번 연결

      url format
      Scheme:[//[user[:password]@]host["port]][/path][?query][#fragment]
***
 ### +Port Forwarding
***
      자신의 ip주소에 접속하게 하려할 때 라우터의 pbulic address를 공유 한다.
      라우터를 통해서 접속하고자하는 주소에 들어가려면 port번호가 필요 하다.
      라우터는 안내자 역할
***
 ### +Dynamic IP Address VS Static IP Address
***
      Dynamic ip address
      - 유동 IP
      - 부족한 IP를 더 효율적으로 사용하기 위해 도입
      - 통신사와 연결할 시 IP주소 부여 
      - IP주소가 계속 바뀌는원리 
      Static
      - 정적 IP 
      - IP가 일정
      - 독점적으로 쓸 수 있음
***
 ### +Dynamic Host Configuration Protocol(DHCP)
***     
      통신 규칙
      컴퓨터를 공유기에 연결하여 인터넷을 쓰기위해서 IP주소 필요
      IP주소 중복 X 
      
      Windows에서 IP주소를 수동으로 지정하는 방법은 제어판에서 DHCP server에게 IP주소를 요청하면 클라이언트에게 응답을 준다.


# +반드시 알고 넘어가야 할 웹 기술 기초편+
 ### 웹 기초 지식의 필요성

    웹은 다수의 사용자가 특정 서비스를 이용하며, 서로 대화도 나누고 정보를 주고 받는 그러한 생태계 구조이다. 이러한 환경 속에서 우리는 취약성 진단이란 것을 수행하는 일원이며, 이를 위해 최소한의 지식이라는 것이 반드시 필요하다.
***    
## +웹의 탄생 그리고 발전
***  
### World Wide Web

    - 웹이란 다수의 네트워크가 모여서 형성된 공간으로 디바이스에 대한 제약없이 웹 클라이너트 프로그램만 있다면 누구나 접근 가능
    - 서로 정보를 공유하고 교류를 할 수 있는 문화가 형성되는 곳이다.
    - 정확하게는 World Wide Web 이라고 하며 이를 줄여서 WWW, W3, WEB 이라 부른다.

### 웹의 탄생과 발전

    최초 웹은 유럽 입자 물리학 연구소의 연구원 팀 버너스 리 박사에 의해 탄생하였고 멀리 떨어져있는 동료 연구자와 지식을 공유하기 위해 하이퍼텍스트 중심으로 구성되었습니다. 
    초기웹은 단순히 텍스트로 구성 
    이용자가 글을 등록, 수정, 삭제 등 참여하는 행위는 못하고 이용자는 일방적으로 정보 제공만 받는 형태였다.

 ### 하이퍼텍스트(HyperText)
      - 1960년대 컴퓨터 개척자 텥오르 넬슨이 처음사용
      - 'hyper' + 'text'
      - 컴퓨터 및 인터넷 관련 용어
      - 한 문서에서 다른 문서로 접근할 수 있는 일종의 링크
      - 사용자들은 이를 통해 다른 페이지로 이동할 수 있다.
***
## +웹을 구성하는 3대 요소
***
### 웹을 구성하는 3대 요소
    --> HTML, HTTP, URL
  
  ### ++ HTML : 웹 서버와 웹 클라이언트 간에 통신을 할 수 있도록 지원

  ### ++URL : 서버에 자원을 요청하는 요소.

  ### ++HTTP : 웹 클라이언트가 웹 서버로 URL을 통한 자원 요청 후 HTML가 담긴 응답을 받으며, 웹 클라이언트 프로그램인 웹 브라우저가 이를 해석하여 사용자에게 구조화 된 인터페이스를 출력시켜준다. 
***
## +자원을 지정하는 URL
***
  ### Unifom Resource Locator(URL)
    - 통합 자원 지시자 
    - 인터넷의 리소스를 가리키는 표준 명칭
    - 서버의 자원을 요청할 때 사용 
    - 인터넷 상의 모든 리소스를 요청할 수 있음 
    - FTP, SMTP 관련된 자원 요청도 가능
  ### URL 구조 분석
    http :// www.test.co.kr / images / background.png
    ----     --------------   ------   ---------------
      1             2            3            4
  
    1) http
      - 스키마 부분
      - 사용하게 될 프로토콜이 명시되어있는 부분
      - https, ftp, file 등이 있음
      - 알파벳으로 시작해야하며 대소문자를 가리지 않음
      - 프로토콜 뒤에 : 이 붙음
    2) www.test.co.kr 
      - 서버 주소인 호스트부분
      - 자원을 가진 프로토콜 명시
      - 웹 브라우저는 이를 참조하여 ip주소 알아냄
      - http는 기본 80포트를 사용하며 생략가능
    3) images
      - 자원이 존재하는 디렉터
    4) background.png
      - 요청할 자원의 이름
  ##
     자원을 지정하지 않고 사이트 도메인만 호출을 할 경우 웹 서버에 설정이 된 기본 자원이 호출된다. 대부분 index 페이지가 호출된다. iis일 경우 default 페이지도 호출 됨
***
## +웹의 핵심 기술 HTTP 프로토콜
***
  ## Hypertext Transfer Protocol(HTTP)
    - 팀 버너스 리박사에 의해 개발됨 
    - 하이퍼텍스트 문서를 전송하기 위해 사용되는 프로토콜
    - 통신규약으로 웹의 핵심 기술

 ## HTTP버전

  ### * HTTP/0.9 
      - 최초의 웹 
      - 오직 HTML을 받아 오기위해 만들어짐 
      - 정식 사양 X
  ### * HTTP/1.0 
      - HTTP의 정식 사양
      - 처음으로 널리 사용하기 시작한 버전
      - 1.0 버전부터 요청결과 알 수 있는 상태코드 추가
      - HTML파일들 외 다른 파일 전송 가능
      - 비 연결지향 방식
  ### * HTTP/1.0+
      - 'Keep-Alive 커넥션'지원
        --> 여러번 커넥션을 맺는 설계상의 문제 해결
  ### * HTTP/1.1
      - 현재 가장 많이 사용되고 있는 버전
      - 기본으로 지속연결 활성화
      - 기존에 헤더에서 options, put, delete 추가
  ### * HTTP/2.0 
      - 성능 향상에 초점을 둔 프로토콜
      - 멀티플렉싱 스트림, 헤더 압출, 서버 추시 등의 기능 추가
***
## +쿠키와 세션
***
  최초의 웹은 단순히 문서를 전달 받고 정보를 공유하는 목적으로 사용되었으며, 이 경우에는 상태 유지 및 관리가 필요하지 않다. 하지만 오늘 날 웹 쇼핑을 하면서 상품을 담고, 결제하고, 결제 완료 후 결제 확인을하며, 예상 도착일을 본다. 또한, 한번의 로그인을 통해 다른 페이지로 접근 시 나에 대한 정보가 유지된다.
 ### 쿠키
    - 상태 유지 및 관리
    - 사용자 인증 수단
    - 클라이언트와 서버 간의 상태 관리
    - 지속 쿠키
    - 세션 쿠키
  ### 지속 쿠키
      - 웹 서버에서 발급 시 하드 디스크에 텍스트 형태로 저장
      - 해당 쿠키 정보 열람 가능
      - 폐기해도 해당 값을 알면 재사용 가능
      - 값이 평문일 경우 변조 위협 있음
      - 사용자 식별 및 인증 관리 할 경우 암호과 과정 거쳐야 함
  ### 세션 쿠키
      - 웹 서버에서 발급 시 클라이언트 웹 브라우저 캐시에 저장
      - 정상적 로그인 시 웹 어플리케이션 서버는 서버 측에 해당 정보 저장
      - 일반적으로 메모리에 저장
      - 메모리, 파일 시스템, 데이터베이스에 저장하는 방법 있음
      - 암호화, 난독화 되어있는 형태가 아니라 임의의 문자들이 무작위로 나열된 것으로, 특정 사용자의 세션 추측 어려움
  ### 지속 쿠키의 필요성
      세션 쿠키를 사용하면 보안 담당자, 개발자들이 편하다. 그러나 대규모 웹 서비스의 경우 많은 사용자들의 세션을 관리하기에는 서버에 엄청난 부하를 가져오므로 서버에 부담이 적은 지속 쿠키 사용을 선호함.
***     
## +웹 아키텍처 분석
***
### 웹 아키텍처
    일반적인 웹 아키텍처는 클라이언트, 웹 서버, 데이터베이스의 형태로 되어 있으며, 영역 별로 프론트 엔드(Front-End)와 백 엔드(Back-End)로 나뉜다.
 ### 웹 아키텍처 동작 원리 분석
    클라이언트 축에서 사용자가 웹 브라우저를 통해 사이트 접속 --> 웹 브라우저는 가장 먼저 도메인에 따른 ip변환 작업 --> 요청 메시지 제작

    HTTP 프로토콜은 TCP/IP 통신을 기반으로 하기 때문에 TCP 연결 특징인 3-way hand shake 과정을 거친 후 HTTP 데이터를 전송한다. 요청에 따른 DB 연결 및 질의 과정 거치며, 이에 따른 응답 메시지를 제작 후 전송

    응답 메시지를 받으면 이를 해석 후 바디에 있는 데이터인 HTML 코드를 웹 브라우저가 해석을 하여 사용자에게 깔끔한 인터페이스 제공